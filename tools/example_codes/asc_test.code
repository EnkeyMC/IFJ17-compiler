.IFJcode17

jump main

# Začátek funkce asc
label asc
createframe

defvar TF@i
defvar TF@str

pops TF@i
pops TF@str

pushframe

defvar LF@condition
defvar LF@strlenght

sub LF@i LF@i int@1

strlen LF@strlenght LF@str

lt LF@condition LF@i int@0
jumpifeq wrongindex LF@condition bool@true

gt LF@condition LF@i LF@strlenght
jumpifeq wrongindex LF@condition bool@true

stri2int LF@str LF@str LF@i
jump ascvalue

label wrongindex
move LF@str int@0

label ascvalue
pushs LF@str

popframe

return
#Konec funkce asc

label main

createframe
pushframe

defvar LF@ascval

# Začátek volání funkce asc

pushs string@TestAhoj
pushs int@5

call asc

pops LF@ascval
# Konec volání funkce

write LF@ascval
write string@\010

#testing index bigger then strlen

pushs string@TestAhoj
pushs int@42

call asc

pops LF@ascval

write LF@ascval
write string@\010

#testing index lower then 1


pushs string@TestAhoj
pushs int@-8

call asc

pops LF@ascval

write LF@ascval
write string@\010

popframe
